<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>zhixuan's Blog</title><link>https://zhixuan666.github.io/</link><description>Recent content on zhixuan's Blog</description><generator>Hugo -- gohugo.io</generator><language>zh-cn</language><lastBuildDate>Sun, 14 Mar 2021 18:26:02 +0900</lastBuildDate><atom:link href="https://zhixuan666.github.io/index.xml" rel="self" type="application/rss+xml"/><item><title>使用Go制作Discord机器人</title><link>https://zhixuan666.github.io/posts/8fa6cc7e/</link><pubDate>Sun, 14 Mar 2021 18:26:02 +0900</pubDate><guid>https://zhixuan666.github.io/posts/8fa6cc7e/</guid><description>&lt;img src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/features/disgo.png" alt="Featured image of post 使用Go制作Discord机器人" />&lt;h2 id="前言">前言&lt;/h2>
&lt;p>使用的依赖包&lt;a class="link" href="https://github.com/bwmarrin/discordgo" target="_blank" rel="noopener"
>Github&lt;/a>&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-sh" data-lang="sh">$ go get github.com/bwmarrin/discordgo
&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h2 id="创建discord-bot">创建Discord Bot&lt;/h2>
&lt;ol>
&lt;li>访问 &lt;a class="link" href="https://discord.com/developers/applications" target="_blank" rel="noopener"
>applications&lt;/a>&lt;/li>
&lt;li>右上角的 &lt;code>New Application&lt;/code>&lt;/li>
&lt;li>填写名字&lt;/li>
&lt;li>Bot -&amp;gt; Add Bot -&amp;gt; Yes, do it! -&amp;gt; 复制 &lt;code>TOKEN&lt;/code> 待会会用&lt;/li>
&lt;li>General Information -&amp;gt; Client ID -&amp;gt; Copy&lt;/li>
&lt;li>&lt;a class="link" href="" >https://discord.com/api/oauth2/authorize?client_id={{Clinet ID}}&amp;amp;permissions=0&amp;amp;scope=bot&lt;/a> -&amp;gt; 添加到服务器&lt;/li>
&lt;/ol>
&lt;hr>
&lt;h2 id="代码">代码&lt;/h2>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="c1">// main.go
&lt;/span>&lt;span class="c1">&lt;/span>&lt;span class="kn">package&lt;/span> &lt;span class="nx">main&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;span class="s">&amp;#34;fmt&amp;#34;&lt;/span>
&lt;span class="s">&amp;#34;log&amp;#34;&lt;/span>
&lt;span class="s">&amp;#34;net/http&amp;#34;&lt;/span>
&lt;span class="s">&amp;#34;os&amp;#34;&lt;/span>
&lt;span class="s">&amp;#34;github.com/bwmarrin/discordgo&amp;#34;&lt;/span>
&lt;span class="p">)&lt;/span>
&lt;span class="kd">func&lt;/span> &lt;span class="nf">main&lt;/span>&lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="c1">// Bot 后面不加空格会出错
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="nx">discord&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">discordgo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">New&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Bot &amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="s">&amp;#34;{{TOKEN}}&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Create discord bot failed: %v\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// event list https://discord.com/developers/docs/topics/gateway#commands-and-events-gateway-events
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="nx">discord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">AddHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">handlers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Ready&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nx">discord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">AddHandler&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">handlers&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">MessageCreate&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nx">err&lt;/span> &lt;span class="p">=&lt;/span> &lt;span class="nx">discord&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Open&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="nx">err&lt;/span> &lt;span class="o">!=&lt;/span> &lt;span class="kc">nil&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="nx">log&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Open bot failed: %v\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">err&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="c1">// Wait here until CTRL-C or other term signal is received.
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Println&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;Bot is now running. Press CTRL-C to exit.&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nx">sc&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nb">make&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">chan&lt;/span> &lt;span class="nx">os&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Signal&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nx">signal&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Notify&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">sc&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">syscall&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">SIGINT&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">syscall&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">SIGTERM&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">os&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Interrupt&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">os&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Kill&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="o">&amp;lt;-&lt;/span>&lt;span class="nx">sc&lt;/span>
&lt;span class="c1">// Cleanly close down the Discord session.
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="nx">dg&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Close&lt;/span>&lt;span class="p">()&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="handler-的构成">handler 的构成&lt;/h3>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="kd">func&lt;/span> &lt;span class="nf">MessageCreate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">s&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">discordgo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Session&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">m&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">discordgo&lt;/span>&lt;span class="p">.&amp;lt;&lt;/span>&lt;span class="nx">event&lt;/span> &lt;span class="nx">name&lt;/span>&lt;span class="p">&amp;gt;)&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="简单的处理">简单的处理&lt;/h3>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-go" data-lang="go">&lt;span class="c1">// handlers/handlers.go
&lt;/span>&lt;span class="c1">&lt;/span>&lt;span class="kn">package&lt;/span> &lt;span class="nx">handlers&lt;/span>
&lt;span class="kn">import&lt;/span> &lt;span class="p">(&lt;/span>
&lt;span class="s">&amp;#34;fmt&amp;#34;&lt;/span>
&lt;span class="s">&amp;#34;time&amp;#34;&lt;/span>
&lt;span class="s">&amp;#34;github.com/bwmarrin/discordgo&amp;#34;&lt;/span>
&lt;span class="p">)&lt;/span>
&lt;span class="kd">func&lt;/span> &lt;span class="nf">MessageCreate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">s&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">discordgo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Session&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">m&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">discordgo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">MessageCreate&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="nx">m&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Author&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ID&lt;/span> &lt;span class="o">==&lt;/span> &lt;span class="nx">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">State&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">User&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ID&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">return&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="nx">fmt&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Printf&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s">&amp;#34;%20s %20s %20s &amp;gt; %s\n&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">m&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ChannelID&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Now&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nf">Format&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">time&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Stamp&lt;/span>&lt;span class="p">),&lt;/span> &lt;span class="nx">m&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Author&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Username&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">m&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Content&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">switch&lt;/span> &lt;span class="nx">m&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Content&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="c1">// 如果文本是hello 返回 @author hello
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="k">case&lt;/span> &lt;span class="s">&amp;#34;hello&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>
&lt;span class="nx">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">ChannelMessageSend&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">m&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ChannelID&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;&amp;lt;@!&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">m&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Author&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">ID&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s">&amp;#34;&amp;gt; hello&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kd">func&lt;/span> &lt;span class="nf">Ready&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">s&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">discordgo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Session&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">m&lt;/span> &lt;span class="o">*&lt;/span>&lt;span class="nx">discordgo&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">Ready&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="c1">// 如果Bot上线更改游戏状态
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="nx">s&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">UpdateGameStatus&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s">&amp;#34;Minecraft&amp;#34;&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h2 id="后记">后记&lt;/h2>
&lt;p>&lt;a class="link" href="https://discord.gg/0f1SbxBZjYoCtNPP" target="_blank" rel="noopener"
>discordgo官方&lt;/a>&lt;/p></description></item><item><title>解决 hexo 大量空行</title><link>https://zhixuan666.github.io/posts/44e9e030/</link><pubDate>Tue, 15 Dec 2020 22:23:55 +0000</pubDate><guid>https://zhixuan666.github.io/posts/44e9e030/</guid><description>&lt;img src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/features/1.jpg" alt="Featured image of post 解决 hexo 大量空行" />&lt;h2 id="前言">前言&lt;/h2>
&lt;p>在使用 &lt;a class="link" href="https://developers.google.com/speed/pagespeed/insights/" target="_blank" rel="noopener"
>PageSpeed Insights&lt;/a> 时 blog 的分数是 &lt;code>62&lt;/code>，一看 html 文件发现大量空行。&lt;/p>
&lt;hr>
&lt;h2 id="开始解决">开始解决&lt;/h2>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ npm install hexo-html-minifier --save
&lt;/code>&lt;/pre>&lt;/div>&lt;p>安装 hexo 插件，&lt;a class="link" href="https://github.com/hexojs/hexo-html-minifier.git" target="_blank" rel="noopener"
>Github&lt;/a>。&lt;/p>
&lt;p>在站点 _config.yml ,里添加&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="nt">html_minifier&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">exclude&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>查看 html 文件。&lt;/p>
&lt;p>&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/44e9e030/after.png.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/44e9e030/after.png" alt="去空行前" />
&lt;/picture>
&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/44e9e030/before.png.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/44e9e030/before.png" alt="去空行后" />
&lt;/picture>&lt;/p>
&lt;p>搞定！&lt;/p></description></item><item><title>GitHub Actions 自动化部署 Hexo</title><link>https://zhixuan666.github.io/posts/61c57a03/</link><pubDate>Thu, 10 Dec 2020 20:28:51 +0000</pubDate><guid>https://zhixuan666.github.io/posts/61c57a03/</guid><description>&lt;img src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/features/action.png" alt="Featured image of post GitHub Actions 自动化部署 Hexo" />&lt;h2 id="github-actions">Github Actions&lt;/h2>
&lt;p>&lt;a class="link" href="https://github.com/features/actions" target="_blank" rel="noopener"
>Github Actions&lt;/a> 是 GitHub 官方 CI 工具，与 GitHub 无缝集成。&lt;/p>
&lt;blockquote>
&lt;p>CI/CD (continuous integration and continuous deployment)&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="准备-github-repo">准备 &lt;code>github repo&lt;/code>&lt;/h2>
&lt;p>在本地建立一个Hexo站点，可以参考官方快速开始文档。&lt;/p>
&lt;p>建立两个GitHub仓库。&lt;/p>
&lt;ul>
&lt;li>存储博客源文件 可以是私有的&lt;/li>
&lt;li>挂载GitHub Pages。&lt;/li>
&lt;/ul>
&lt;p>在 blog 根目录下添加 &lt;code>.gitignore&lt;/code> 文件，添加&lt;/p>
&lt;pre>&lt;code>.DS_Store
Thumbs.db
*.log
node_modules/
public/
.deploy*/
&lt;/code>&lt;/pre>&lt;p>将本地的博客源文件推送到 &lt;code>github&lt;/code> 仓库。&lt;/p>
&lt;h2 id="准备秘钥">准备秘钥&lt;/h2>
&lt;p>生成 ssh 部署私钥&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ ssh-keygen -t rsa -b &lt;span class="m">4096&lt;/span> -C &lt;span class="s2">&amp;#34;&lt;/span>&lt;span class="k">$(&lt;/span>git config user.email&lt;span class="k">)&lt;/span>&lt;span class="s2">&amp;#34;&lt;/span> -f github-deploy-key -N &lt;span class="s2">&amp;#34;&amp;#34;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>GitHub Pages 的 repo 里的 &lt;code>Settings/Deploy keys&lt;/code> 中添加刚刚生成的公钥 &lt;code>Title&lt;/code> 随便 值为刚刚生成的公钥
&lt;code>github-deploy-key.pub&lt;/code>&lt;/p>
&lt;p>存储博客源文件 的 repo 里的 Settings/Secrets 中添加 &lt;code>DEPLOY_KEY&lt;/code>，值为刚刚生成的私钥
&lt;code>github-deploy-key&lt;/code>&lt;/p>
&lt;blockquote>
&lt;p>注意：切记不要多复制空格!!!&lt;/p>
&lt;p>切记要勾选 Allow write access，否则会出现无法部署的情况。&lt;/p>
&lt;/blockquote>
&lt;h2 id="配置-hexo-的-_configyml">配置 Hexo 的 _config.yml&lt;/h2>
&lt;p>添加部署配置。&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="c"># Deployment&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="c">## Docs: https://hexo.io/docs/deployment.html&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="nt">deploy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>- &lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">git&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">repo&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">git@github.com:xxxx/xxxx.git&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 使用仓库的ssh地址&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">branch&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">master&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="配置-github-actions">配置 &lt;code>GitHub Actions&lt;/code>&lt;/h2>
&lt;p>在 &lt;code>blog&lt;/code> 的根目录下新建 &lt;code>.github/workflow/deploy.yml&lt;/code> ，编写如下配置。&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deploy&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="nt">on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="l">push]&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="nt">jobs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">build&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">runs-on&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">ubuntu-latest&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">A job to deploy blog.&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">steps&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Checkout&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/checkout@v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">submodules&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Cache node modules&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">actions/cache@v1&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">cache&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">path&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">node_modules&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">key&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ runner.os }}-node-${{ hashFiles(&amp;#39;**/package-lock.json&amp;#39;) }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">restore-keys&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;span class="sd"> &lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ runner.os }}-node-&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Install Dependencies&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">if&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">steps.cache.outputs.cache-hit != &amp;#39;true&amp;#39;&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">npm ci&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Deploy&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">id&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">deploy&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">uses&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">sma11black/hexo-action@v1.0.3&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">with&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">deploy_key&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">${{ secrets.DEPLOY_KEY }}&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>- &lt;span class="nt">name&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">Get the output&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">run&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">|&lt;/span>&lt;span class="sd">
&lt;/span>&lt;span class="sd"> &lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">echo &amp;#34;${{ steps.deploy.outputs.notify }}&amp;#34;&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;!-- raw HTML omitted -->
&lt;h2 id="验证">验证&lt;/h2>
&lt;p>现在 Hexo 已经和 &lt;code>GitHub Actions&lt;/code> 已经集成了，接下来在博客源码分支上推送代码即可自动编译部署。具体
执行过程可以在 &lt;code>Actions&lt;/code> 中查看：&lt;/p>
&lt;p>&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/61c57a03/github-action.png.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/61c57a03/github-action.png" alt="GitHub Actions" />
&lt;/picture>&lt;/p>
&lt;h2 id="感谢及参考">感谢及参考&lt;/h2>
&lt;ul>
&lt;li>🔗&lt;a class="link" href="https://github.com/marketplace/actions/hexo-deploy" target="_blank" rel="noopener"
>GitHub Action Hexo Deploy&lt;/a>&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted --></description></item><item><title>Centos 安装 docker</title><link>https://zhixuan666.github.io/posts/4064fc4/</link><pubDate>Sat, 28 Nov 2020 18:20:08 +0000</pubDate><guid>https://zhixuan666.github.io/posts/4064fc4/</guid><description>&lt;img src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/features/docker.png" alt="Featured image of post Centos 安装 docker" />&lt;h2 id="安装说明">安装说明&lt;/h2>
&lt;p>Docker CE 支持 64 位版本 CentOS 7，并且要求内核版本不低于 3.10&lt;/p>
&lt;p>&lt;a class="link" href="https://www.docker.com/" target="_blank" rel="noopener"
>DOCKER官网&lt;/a>&lt;/p>
&lt;hr>
&lt;h2 id="安装docker">安装docker&lt;/h2>
&lt;h3 id="删除旧版-docker">删除旧版 &lt;code>docker&lt;/code>&lt;/h3>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ sudo yum remove docker &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> docker-client &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> docker-client-latest &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> docker-common &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> docker-latest &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> docker-latest-logrotate &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> docker-logrotate &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> docker-engine
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="安装新版-docker">安装新版 &lt;code>docker&lt;/code>&lt;/h3>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ sudo yum install -y yum-utils
$ sudo yum-config-manager &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> --add-repo &lt;span class="se">\
&lt;/span>&lt;span class="se">&lt;/span> https://download.docker.com/linux/centos/docker-ce.repo
$ sudo yum install docker-ce docker-ce-cli containerd.io
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="防火墙">防火墙&lt;/h3>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ sudo firewall-cmd --permanent --zone&lt;span class="o">=&lt;/span>trusted --add-interface&lt;span class="o">=&lt;/span>docker0
$ sudo firewall-cmd --reload
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="开启docker">开启docker&lt;/h3>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ sudo systemctl start docker
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="设置开机自启动">设置开机自启动&lt;/h3>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ sudo systemctl &lt;span class="nb">enable&lt;/span> docker
&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h2 id="建立-docker-用户组">建立 docker 用户组&lt;/h2>
&lt;p>默认情况下，docker 命令会使用 Unix socket 与 Docker 引擎通讯。而只有 root 和 docker 组的用户才可以访问 Docker 引擎的 Unix socket。出于安全考虑，一般 Linux 系统上不会直接使用 root 用户。因此，更好地做法是将需要使用 docker 的用户加入 docker 用户组。&lt;/p>
&lt;p>建立 docker 组：&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ sudo groupadd docker
&lt;/code>&lt;/pre>&lt;/div>&lt;p>复制代码将当前用户加入 docker 组：&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ sudo usermod -aG docker &lt;span class="nv">$USER&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="测试-docker-是否安装正确">测试 Docker 是否安装正确&lt;/h3>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ docker run hello-world
&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h2 id="镜像加速">镜像加速&lt;/h2>
&lt;p>鉴于国内网络问题，后续拉取 Docker 镜像十分缓慢，强烈建议安装 Docker 之后配置 国内镜像加速。
修改配置文件 &lt;code>/etc/docker/daemon.json&lt;/code> ，添加主机 &lt;code>DNS&lt;/code> 服务器后重启 &lt;code>Docker&lt;/code> 守护进程（如果文件不存在请新建该文件）&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="p">{&lt;/span>
&lt;span class="nt">&amp;#34;registry-mirrors&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>
&lt;span class="s2">&amp;#34;https://registry.docker-cn.com&amp;#34;&lt;/span>
&lt;span class="p">]&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;a class="link" href="#%e6%84%9f%e8%b0%a2%e5%8f%8a%e5%8f%82%e8%80%83" >daemon.json 说明&lt;/a>&lt;/p>
&lt;hr>
&lt;h2 id="重新启动服务">重新启动服务&lt;/h2>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ sudo systemctl daemon-reload
$ sudo systemctl restart docker
&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h2 id="发现问题">发现问题&lt;/h2>
&lt;p>测试是否是DNS解析出错，测试命令如下：&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ docker run busybox nslookup baidu.com
nslookup: write to &lt;span class="s1">&amp;#39;127.0.1.1&amp;#39;&lt;/span>: Connection refused
&lt;span class="p">;;&lt;/span> connection timed out&lt;span class="p">;&lt;/span> no servers could be reached
&lt;/code>&lt;/pre>&lt;/div>&lt;p>没有设置 &lt;a class="link" href="#DNS" >DNS&lt;/a>&lt;/p>
&lt;p>如果启用 &lt;a class="link" href="#%e9%98%b2%e7%81%ab%e5%a2%99" >防火墙&lt;/a>&lt;/p>
&lt;h3 id="dns">DNS&lt;/h3>
&lt;p>修改配置文件 &lt;code>/etc/docker/daemon.json&lt;/code> ，添加主机 &lt;code>DNS&lt;/code> 服务器后重启 &lt;code>Docker&lt;/code> 守护进程（如果文件不存在请新建该文件）&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-json" data-lang="json">&lt;span class="p">{&lt;/span>
&lt;span class="nt">&amp;#34;dns&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;8.8.8.8&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;1.1.1.1&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h2 id="感谢及参考">感谢及参考&lt;/h2>
&lt;ul>
&lt;li>🔗&lt;a class="link" href="https://www.docker.com/" target="_blank" rel="noopener"
>docker&lt;/a>&lt;/li>
&lt;li>🔗&lt;a class="link" href="https://docs.docker.com/engine/reference/commandline/dockerd/#daemon-configuration-file" target="_blank" rel="noopener"
>daemon.json 说明&lt;/a>&lt;/li>
&lt;/ul>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted --></description></item><item><title>使用 ssh 工具连接到 wsl</title><link>https://zhixuan666.github.io/posts/e0320a75/</link><pubDate>Sun, 22 Nov 2020 16:41:05 +0000</pubDate><guid>https://zhixuan666.github.io/posts/e0320a75/</guid><description>&lt;img src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/features/ssh.png" alt="Featured image of post 使用 ssh 工具连接到 wsl" />&lt;h2 id="前言">前言&lt;/h2>
&lt;p>最近因为电脑性能不够，想在 &lt;code>wsl&lt;/code> 上来搭建 &lt;code>code-server&lt;/code> 结果无法启动 &lt;code>ssh&lt;/code> 服务&lt;/p>
&lt;hr>
&lt;h2 id="安装-ssh">安装 ssh&lt;/h2>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ sudo apt-get remove openssh-server
$ sudo apt-get install openssh-server
&lt;/code>&lt;/pre>&lt;/div>&lt;h2 id="编辑配置文件">编辑配置文件&lt;/h2>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ sudo vi /etc/ssh/sshd_config
&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>Port 22 # 默认即可，如果有端口占用可以自己修改
PasswordAuthentication yes # 允许用户名密码方式登录&lt;/p>
&lt;/blockquote>
&lt;h2 id="重启服务">重启服务&lt;/h2>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ sudo service ssh restart
&lt;/code>&lt;/pre>&lt;/div>&lt;p>现在可以使用客户端连接 &lt;code>wsl&lt;/code> 了。&lt;/p></description></item><item><title>golang hmac-sha256 验证签名</title><link>https://zhixuan666.github.io/posts/69e3a2bc/</link><pubDate>Sat, 07 Nov 2020 22:14:34 +0000</pubDate><guid>https://zhixuan666.github.io/posts/69e3a2bc/</guid><description>&lt;img src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/features/3.png" alt="Featured image of post golang hmac-sha256 验证签名" />&lt;h2 id="使用-hmac-sha256-验证签名">使用 hmac-sha256 验证签名&lt;/h2>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-golang" data-lang="golang">&lt;span class="kd">func&lt;/span> &lt;span class="nf">CheckMAC&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">message&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">messageMAC&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">key&lt;/span> &lt;span class="p">[]&lt;/span>&lt;span class="kt">byte&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="kt">bool&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="nx">mac&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">hmac&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">New&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">sha256&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">New&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">key&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nx">mac&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Write&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">message&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="nx">expectedMAC&lt;/span> &lt;span class="o">:=&lt;/span> &lt;span class="nx">mac&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Sum&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kc">nil&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="nx">hmac&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nf">Equal&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">messageMAC&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="nx">expectedMAC&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;hr></description></item><item><title>Hexo Next 美化</title><link>https://zhixuan666.github.io/posts/bf8435b4/</link><pubDate>Sat, 31 Oct 2020 22:07:14 +0000</pubDate><guid>https://zhixuan666.github.io/posts/bf8435b4/</guid><description>&lt;img src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/features/4.jpg" alt="Featured image of post Hexo Next 美化" />&lt;h2 id="简介">简介&lt;/h2>
&lt;!-- raw HTML omitted -->
&lt;!-- raw HTML omitted -->
&lt;p>&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/bf8435b4/next.png.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/bf8435b4/next.png" alt="Next" />
&lt;/picture>&lt;/p>
&lt;hr>
&lt;h2 id="customstyl-文件">&lt;code>custom.styl&lt;/code> 文件&lt;/h2>
&lt;p>在新版 &lt;code>Next&lt;/code> 中 &lt;code>custom.styl&lt;/code> 文件改为 &lt;code>blog/source/_data/styles.styl&lt;/code>&lt;/p>
&lt;p>在 &lt;code>主题配置文件&lt;/code> 中:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="nt">custom_file_path&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#head: source/_data/head.njk&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#header: source/_data/header.njk&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#sidebar: source/_data/sidebar.njk&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#postMeta: source/_data/post-meta.njk&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#postBodyEnd: source/_data/post-body-end.njk&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#footer: source/_data/footer.njk&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#bodyEnd: source/_data/body-end.njk&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#variable: source/_data/variables.styl&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#mixin: source/_data/mixins.styl&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">style&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">source/_data/styles.styl&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h2 id="美化">美化&lt;/h2>
&lt;ul>
&lt;li>&lt;a class="link" href="#%e7%82%b9%e5%87%bb%e7%88%b1%e5%bf%83%e6%95%88%e6%9e%9c" >点击爱心效果&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#%e7%82%b9%e5%87%bb%e7%83%9f%e8%8a%b1%e7%88%86%e7%82%b8%e6%95%88%e6%9e%9c" >点击烟花爆炸效果&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#%e6%b5%8f%e8%a7%88%e5%99%a8%e7%bd%91%e9%a1%b5%e6%a0%87%e9%a2%98%e6%81%b6%e6%90%9e" >浏览器网页标题恶搞&lt;/a>&lt;/li>
&lt;li>&lt;a class="link" href="#%e8%83%8c%e6%99%af%e5%9b%be%e7%89%87" >背景图片&lt;/a>&lt;/li>
&lt;/ul>
&lt;h3 id="背景图片">背景图片&lt;/h3>
&lt;p>创建 &lt;code>blog/source/_data/styles.styl&lt;/code> 在 &lt;code>styles.styl&lt;/code> 文件中添加以下代码:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="nt">body&lt;/span>&lt;span class="p">{&lt;/span>
&lt;span class="k">background&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nb">url&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sx">图片链接&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">background-size&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="kc">cover&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">background-repeat&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="kc">no-repeat&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">background-attachment&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="kc">fixed&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">background-position&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="kc">center&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>其中的css样式属性都可以根据你的自定义图片来更改，以达到最佳的效果。&lt;/p>
&lt;p>如果没效果 &lt;a class="link" href="#customstyl-%e6%96%87%e4%bb%b6" >关于styles.styl&lt;/a>&lt;/p>
&lt;hr>
&lt;h3 id="点击爱心效果">点击爱心效果&lt;/h3>
&lt;p>在 &lt;code>/themes/next/source/js&lt;/code> 下新建文件 love.js，在 love.js 文件中添加以下代码:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="o">!&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">n&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="nx">c&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;.heart{width: 10px;height: 10px;position: fixed;background: #f00;transform: rotate(45deg);-webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);}.heart:after,.heart:before{content: &amp;#39;&amp;#39;;width: inherit;height: inherit;background: inherit;border-radius: 50%;-webkit-border-radius: 500%;-moz-border-radius: 50%;position: fixed;}.heart:after{top: -5px;}.heart:before{left: -5px;}&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">o&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="nx">r&lt;/span>&lt;span class="p">()}&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">r&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">e&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">d&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="nx">d&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">alpha&lt;/span>&lt;span class="o">&amp;lt;=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="o">?&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">removeChild&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">d&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">el&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">d&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">splice&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">))&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">d&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="o">--&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">d&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">scale&lt;/span>&lt;span class="o">+=&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">004&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">d&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">alpha&lt;/span>&lt;span class="o">-=&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="mi">013&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">d&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">el&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">style&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">cssText&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;left:&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">d&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s2">&amp;#34;px;top:&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">d&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s2">&amp;#34;px;opacity:&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">d&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">alpha&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s2">&amp;#34;;transform:scale(&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">d&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">scale&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s2">&amp;#34;,&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">d&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">scale&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s2">&amp;#34;) rotate(45deg);background:&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">d&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">color&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s2">&amp;#34;;z-index:99999&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="nx">requestAnimationFrame&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">r&lt;/span>&lt;span class="p">)}&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">o&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">t&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;function&amp;#34;&lt;/span>&lt;span class="o">==&lt;/span>&lt;span class="k">typeof&lt;/span> &lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">onclick&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">onclick&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">onclick&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">)}}&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createElement&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;div&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">className&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;heart&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">d&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="nx">el&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">clientX&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">clientY&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">5&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">scale&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">alpha&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">color&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">s&lt;/span>&lt;span class="p">()}),&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">body&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">appendChild&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">)}&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">c&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createElement&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;style&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;text/css&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">try&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">appendChild&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">createTextNode&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">))}&lt;/span>&lt;span class="k">catch&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">styleSheet&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">cssText&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getElementsByTagName&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;head&amp;#34;&lt;/span>&lt;span class="p">)[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">appendChild&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">)}&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">s&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="s2">&amp;#34;rgb(&amp;#34;&lt;/span>&lt;span class="o">+~~&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">255&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">())&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s2">&amp;#34;,&amp;#34;&lt;/span>&lt;span class="o">+~~&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">255&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">())&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s2">&amp;#34;,&amp;#34;&lt;/span>&lt;span class="o">+~~&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">255&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">())&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s2">&amp;#34;)&amp;#34;&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">d&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[];&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">requestAnimationFrame&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="k">return&lt;/span> &lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">requestAnimationFrame&lt;/span>&lt;span class="o">||&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">webkitRequestAnimationFrame&lt;/span>&lt;span class="o">||&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">mozRequestAnimationFrame&lt;/span>&lt;span class="o">||&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">oRequestAnimationFrame&lt;/span>&lt;span class="o">||&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">msRequestAnimationFrame&lt;/span>&lt;span class="o">||&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mf">1e3&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">60&lt;/span>&lt;span class="p">)}}(),&lt;/span>&lt;span class="nx">n&lt;/span>&lt;span class="p">()}(&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nb">document&lt;/span>&lt;span class="p">);&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>在 &lt;code>\themes\next\layout\layout.njk&lt;/code> 文件末尾添加以下代码:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="c">&amp;lt;!-- 页面点击小红心 --&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text/javascript&amp;#34;&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/js/love.js&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/bf8435b4/love.js.gif.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/bf8435b4/love.js.gif" alt="love.js" />
&lt;/picture>&lt;/p>
&lt;hr>
&lt;h3 id="点击烟花爆炸效果">点击烟花爆炸效果&lt;/h3>
&lt;p>在 &lt;code>\themes\next\source\js&lt;/code> 目录下新建一个 fireworks.js 的文件，里面写入以下代码:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="s2">&amp;#34;use strict&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">updateCoords&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="nx">pointerX&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">clientX&lt;/span>&lt;span class="o">||&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">touches&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">clientX&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">canvasEl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getBoundingClientRect&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">left&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">pointerY&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">clientY&lt;/span>&lt;span class="o">||&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">touches&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">clientY&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">canvasEl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getBoundingClientRect&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">top&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">setParticuleDirection&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">t&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">anime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">360&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">PI&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">180&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">anime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">50&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">180&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">n&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="nx">anime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)]&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">n&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">cos&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">n&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sin&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">)}}&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">createParticule&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{};&lt;/span>&lt;span class="k">return&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">color&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">colors&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">anime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">colors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)],&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">radius&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">anime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">16&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">32&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">endPos&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">setParticuleDirection&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">draw&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">beginPath&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">arc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">radius&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">PI&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fillStyle&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">color&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fill&lt;/span>&lt;span class="p">()},&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">createCircle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{};&lt;/span>&lt;span class="k">return&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">color&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;#F00&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">radius&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">0.1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">alpha&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">0.5&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lineWidth&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">draw&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">globalAlpha&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">alpha&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">beginPath&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">arc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">radius&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">PI&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lineWidth&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lineWidth&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">strokeStyle&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">color&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">stroke&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">globalAlpha&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">},&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">renderParticule&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">t&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">animatables&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">animatables&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">draw&lt;/span>&lt;span class="p">()}}&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">animateParticules&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">createCircle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">n&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[],&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">numberOfParticules&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="nx">n&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">createParticule&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">))}&lt;/span>&lt;span class="nx">anime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">timeline&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">add&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="nx">targets&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">n&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="k">return&lt;/span> &lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">endPos&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">},&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="k">return&lt;/span> &lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">endPos&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="p">},&lt;/span>&lt;span class="nx">radius&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mf">0.1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">duration&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">anime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1200&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1800&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">easing&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s2">&amp;#34;easeOutExpo&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">update&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">renderParticule&lt;/span>&lt;span class="p">}).&lt;/span>&lt;span class="nx">add&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="nx">targets&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">radius&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">anime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">80&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">160&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">lineWidth&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">alpha&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">easing&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s2">&amp;#34;linear&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">duration&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">anime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">600&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">800&lt;/span>&lt;span class="p">)},&lt;/span>&lt;span class="nx">duration&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">anime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1200&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1800&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">easing&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s2">&amp;#34;easeOutExpo&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">update&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">renderParticule&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">offset&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">})}&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">debounce&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">return&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">n&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">arguments&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="nx">clearTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">apply&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">n&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">)},&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">)}}&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">canvasEl&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">querySelector&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;.fireworks&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">canvasEl&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">ctx&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">canvasEl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getContext&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;2d&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">numberOfParticules&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">30&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">pointerX&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">pointerY&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">tap&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;mousedown&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">colors&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;#FF1461&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;#18FF92&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;#5A87FF&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;#FBF38C&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span>&lt;span class="nx">setCanvasSize&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">debounce&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="nx">canvasEl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">width&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">innerWidth&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">canvasEl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">height&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">innerHeight&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">canvasEl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">style&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">width&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">innerWidth&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s2">&amp;#34;px&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">canvasEl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">style&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">height&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">innerHeight&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s2">&amp;#34;px&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">canvasEl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getContext&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;2d&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">scale&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)},&lt;/span>&lt;span class="mi">500&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">render&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">anime&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="nx">duration&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">update&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">clearRect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">canvasEl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">width&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">canvasEl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">height&lt;/span>&lt;span class="p">)}});&lt;/span>&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">addEventListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">tap&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="s2">&amp;#34;sidebar&amp;#34;&lt;/span>&lt;span class="o">!==&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span>&lt;span class="s2">&amp;#34;toggle-sidebar&amp;#34;&lt;/span>&lt;span class="o">!==&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span>&lt;span class="s2">&amp;#34;A&amp;#34;&lt;/span>&lt;span class="o">!==&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">nodeName&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span>&lt;span class="s2">&amp;#34;IMG&amp;#34;&lt;/span>&lt;span class="o">!==&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">nodeName&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">render&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">play&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="nx">updateCoords&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">animateParticules&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">pointerX&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">pointerY&lt;/span>&lt;span class="p">))},&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">setCanvasSize&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">addEventListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;resize&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">setCanvasSize&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)}&lt;/span>&lt;span class="s2">&amp;#34;use strict&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">updateCoords&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="nx">pointerX&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">clientX&lt;/span>&lt;span class="o">||&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">touches&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">clientX&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">canvasEl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getBoundingClientRect&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">left&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">pointerY&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">clientY&lt;/span>&lt;span class="o">||&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">touches&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">clientY&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">canvasEl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getBoundingClientRect&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">top&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">setParticuleDirection&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">t&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">anime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">360&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">PI&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">180&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">anime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">50&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">180&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">n&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">][&lt;/span>&lt;span class="nx">anime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)]&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">return&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">n&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">cos&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">n&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">sin&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">)}}&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">createParticule&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{};&lt;/span>&lt;span class="k">return&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">color&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">colors&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">anime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">colors&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)],&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">radius&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">anime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">16&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">32&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">endPos&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">setParticuleDirection&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">draw&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">beginPath&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">arc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">radius&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">PI&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fillStyle&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">color&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">fill&lt;/span>&lt;span class="p">()},&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">createCircle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">{};&lt;/span>&lt;span class="k">return&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">color&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;#F00&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">radius&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">0.1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">alpha&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mf">0.5&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lineWidth&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">6&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">draw&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">globalAlpha&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">alpha&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">beginPath&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">arc&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">radius&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">PI&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lineWidth&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">lineWidth&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">strokeStyle&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">color&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">stroke&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">globalAlpha&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">},&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">}&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">renderParticule&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">t&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">animatables&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">length&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">animatables&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">].&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">draw&lt;/span>&lt;span class="p">()}}&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">animateParticules&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="k">for&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">createCircle&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">n&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[],&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="nx">numberOfParticules&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="o">++&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="nx">n&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">push&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">createParticule&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">))}&lt;/span>&lt;span class="nx">anime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">timeline&lt;/span>&lt;span class="p">().&lt;/span>&lt;span class="nx">add&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="nx">targets&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">n&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="k">return&lt;/span> &lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">endPos&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">x&lt;/span>&lt;span class="p">},&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="k">return&lt;/span> &lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">endPos&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">y&lt;/span>&lt;span class="p">},&lt;/span>&lt;span class="nx">radius&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mf">0.1&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">duration&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">anime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1200&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1800&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">easing&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s2">&amp;#34;easeOutExpo&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">update&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">renderParticule&lt;/span>&lt;span class="p">}).&lt;/span>&lt;span class="nx">add&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="nx">targets&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">radius&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">anime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">80&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">160&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">lineWidth&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">alpha&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="p">{&lt;/span>&lt;span class="nx">value&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">easing&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s2">&amp;#34;linear&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">duration&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">anime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">600&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">800&lt;/span>&lt;span class="p">)},&lt;/span>&lt;span class="nx">duration&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">anime&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">random&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">1200&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">1800&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">easing&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="s2">&amp;#34;easeOutExpo&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">update&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="nx">renderParticule&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">offset&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">})}&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="nx">debounce&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">a&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="k">return&lt;/span> &lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">n&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">this&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">arguments&lt;/span>&lt;span class="p">;&lt;/span>&lt;span class="nx">clearTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">a&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">apply&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">n&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">)},&lt;/span>&lt;span class="nx">t&lt;/span>&lt;span class="p">)}}&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">canvasEl&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">querySelector&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;.fireworks&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="k">if&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">canvasEl&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="kd">var&lt;/span> &lt;span class="nx">ctx&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">canvasEl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getContext&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;2d&amp;#34;&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">numberOfParticules&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">30&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">pointerX&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">pointerY&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">tap&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;mousedown&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">colors&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;#FF1461&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;#18FF92&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;#5A87FF&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;#FBF38C&amp;#34;&lt;/span>&lt;span class="p">],&lt;/span>&lt;span class="nx">setCanvasSize&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">debounce&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="nx">canvasEl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">width&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">innerWidth&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">canvasEl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">height&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">innerHeight&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">canvasEl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">style&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">width&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">innerWidth&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s2">&amp;#34;px&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">canvasEl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">style&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">height&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">innerHeight&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s2">&amp;#34;px&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">canvasEl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getContext&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;2d&amp;#34;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">scale&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">2&lt;/span>&lt;span class="p">)},&lt;/span>&lt;span class="mi">500&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">render&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">anime&lt;/span>&lt;span class="p">({&lt;/span>&lt;span class="nx">duration&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">update&lt;/span>&lt;span class="o">:&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(){&lt;/span>&lt;span class="nx">ctx&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">clearRect&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">canvasEl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">width&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">canvasEl&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">height&lt;/span>&lt;span class="p">)}});&lt;/span>&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">addEventListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">tap&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="kd">function&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">){&lt;/span>&lt;span class="s2">&amp;#34;sidebar&amp;#34;&lt;/span>&lt;span class="o">!==&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span>&lt;span class="s2">&amp;#34;toggle-sidebar&amp;#34;&lt;/span>&lt;span class="o">!==&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">id&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span>&lt;span class="s2">&amp;#34;A&amp;#34;&lt;/span>&lt;span class="o">!==&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">nodeName&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span>&lt;span class="s2">&amp;#34;IMG&amp;#34;&lt;/span>&lt;span class="o">!==&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">target&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">nodeName&lt;/span>&lt;span class="o">&amp;amp;&amp;amp;&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">render&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">play&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="nx">updateCoords&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">animateParticules&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">pointerX&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">pointerY&lt;/span>&lt;span class="p">))},&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">),&lt;/span>&lt;span class="nx">setCanvasSize&lt;/span>&lt;span class="p">(),&lt;/span>&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">addEventListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;resize&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="nx">setCanvasSize&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="o">!&lt;/span>&lt;span class="mi">1&lt;/span>&lt;span class="p">)};&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>然后在 \themes\next\layout\layout.njk 文件中写入以下代码:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">canvas&lt;/span> &lt;span class="na">class&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;fireworks&amp;#34;&lt;/span> &lt;span class="na">style&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;&amp;#34;&lt;/span> &lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">canvas&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text/javascript&amp;#34;&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/js/fireworks.js&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>如果没加载animejs:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text/javascript&amp;#34;&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;//cdn.jsdelivr.net/npm/animejs@2.2.0&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;!-- raw HTML omitted -->
&lt;p>&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/bf8435b4/fireworks.png.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/bf8435b4/fireworks.png" alt="fireworks.js" />
&lt;/picture>&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;hr>
&lt;h3 id="浏览器网页标题恶搞">浏览器网页标题恶搞&lt;/h3>
&lt;p>当用户访问你的博客时点击到了其他网页，我们可以恶搞一下网页标题，呼唤用户回来，首先在目录 &lt;code>\themes\next\source\js&lt;/code> 下新建一个 &lt;code>FunnyTitle.js&lt;/code> 文件，在里面填写如下代码:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="c">&amp;lt;!--&lt;/span>&lt;span class="nx">浏览器搞笑标题&lt;/span>&lt;span class="o">--&amp;gt;&lt;/span>
&lt;span class="kd">var&lt;/span> &lt;span class="nx">OriginTitle&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="kd">var&lt;/span> &lt;span class="nx">titleTime&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">addEventListener&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;visibilitychange&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">hidden&lt;/span>&lt;span class="p">)&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[rel=&amp;#34;icon&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">attr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;href&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;/img/failure.ico&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;ヽ(●-`Д´-)ノ你丑你就走！&amp;#39;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="nx">clearTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">titleTime&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="k">else&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="nx">$&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;[rel=&amp;#34;icon&amp;#34;]&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">attr&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;href&amp;#39;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="s2">&amp;#34;/img/favicon.png&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="s1">&amp;#39;(/≧▽≦/)咦！又好了 &amp;#39;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">OriginTitle&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="nx">titleTime&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="kd">function&lt;/span> &lt;span class="p">()&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">title&lt;/span> &lt;span class="o">=&lt;/span> &lt;span class="nx">OriginTitle&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">},&lt;/span> &lt;span class="mi">2000&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">});&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>然后在 &lt;code>\themes\next\layout\layout.njk&lt;/code> 文件中添加如下代码:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="c">&amp;lt;!--浏览器搞笑标题--&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text/javascript&amp;#34;&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;\js\FunnyTitle.js&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;a class="link" href="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/failure.ico" target="_blank" rel="noopener"
>failure.ico下载地址&lt;/a>&lt;/p>
&lt;p>&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/bf8435b4/FunnyTitle-1.png.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/bf8435b4/FunnyTitle-1.png" alt="FunnyTitle.js" />
&lt;/picture>
&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/bf8435b4/FunnyTitle-2.png.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/bf8435b4/FunnyTitle-2.png" alt="FunnyTitle.js" />
&lt;/picture>&lt;/p>
&lt;hr>
&lt;h3 id="添加本站运行时间">添加本站运行时间&lt;/h3>
&lt;p>在目录 &lt;code>\themes\next\source\js&lt;/code> 下新建一个 &lt;code>blog-run-time.js&lt;/code> 文件，在里面填写如下代码:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-js" data-lang="js">&lt;span class="kd">function&lt;/span> &lt;span class="nx">show_date_time&lt;/span>&lt;span class="p">(){&lt;/span>
&lt;span class="nb">window&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">setTimeout&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;show_date_time()&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">1000&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="nx">BirthDay&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s2">&amp;#34;09/13/2020 0:0:0&amp;#34;&lt;/span>&lt;span class="p">);&lt;/span>&lt;span class="c1">//修改为自己的blog建站时间
&lt;/span>&lt;span class="c1">&lt;/span> &lt;span class="nx">today&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="k">new&lt;/span> &lt;span class="nb">Date&lt;/span>&lt;span class="p">();&lt;/span>
&lt;span class="nx">timeold&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">today&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getTime&lt;/span>&lt;span class="p">()&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">BirthDay&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getTime&lt;/span>&lt;span class="p">());&lt;/span>
&lt;span class="nx">sectimeold&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">timeold&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="mi">1000&lt;/span>
&lt;span class="nx">secondsold&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">floor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">sectimeold&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="nx">msPerDay&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="mi">24&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">60&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">60&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">1000&lt;/span>
&lt;span class="nx">e_daysold&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">timeold&lt;/span>&lt;span class="o">/&lt;/span>&lt;span class="nx">msPerDay&lt;/span>
&lt;span class="nx">daysold&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">floor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e_daysold&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="nx">e_hrsold&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e_daysold&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">daysold&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">24&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="nx">hrsold&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">setzero&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">floor&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e_hrsold&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="nx">e_minsold&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">e_hrsold&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">hrsold&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">60&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="nx">minsold&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">setzero&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">floor&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">e_hrsold&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">hrsold&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">60&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="nx">seconds&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="nx">setzero&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nb">Math&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">floor&lt;/span>&lt;span class="p">((&lt;/span>&lt;span class="nx">e_minsold&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="nx">minsold&lt;/span>&lt;span class="p">)&lt;/span>&lt;span class="o">*&lt;/span>&lt;span class="mi">60&lt;/span>&lt;span class="p">));&lt;/span>
&lt;span class="nb">document&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nx">getElementById&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="s1">&amp;#39;days&amp;#39;&lt;/span>&lt;span class="p">).&lt;/span>&lt;span class="nx">innerHTML&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;本站已运行&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">daysold&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s2">&amp;#34;天&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">hrsold&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s2">&amp;#34;小时&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">minsold&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s2">&amp;#34;分&amp;#34;&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="nx">seconds&lt;/span>&lt;span class="o">+&lt;/span>&lt;span class="s2">&amp;#34;秒&amp;#34;&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="kd">function&lt;/span> &lt;span class="nx">setzero&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="p">){&lt;/span>
&lt;span class="k">if&lt;/span> &lt;span class="p">(&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="o">&amp;lt;&lt;/span>&lt;span class="mi">10&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">{&lt;/span>&lt;span class="nx">i&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s2">&amp;#34;0&amp;#34;&lt;/span> &lt;span class="o">+&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="p">};&lt;/span>
&lt;span class="k">return&lt;/span> &lt;span class="nx">i&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="nx">show_date_time&lt;/span>&lt;span class="p">();&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>然后在 &lt;code>\themes\next\layout\_partials\footer.njk&lt;/code> 文件中在 &lt;code>{{- next_inject('footer') }}&lt;/code> 前添加如下代码:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-html" data-lang="html">&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">div&lt;/span> &lt;span class="na">id&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;days&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">div&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;span class="p">&amp;lt;&lt;/span>&lt;span class="nt">script&lt;/span> &lt;span class="na">type&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;text/javascript&amp;#34;&lt;/span> &lt;span class="na">src&lt;/span>&lt;span class="o">=&lt;/span>&lt;span class="s">&amp;#34;/js/blog-run-time.js&amp;#34;&lt;/span>&lt;span class="p">&amp;gt;&amp;lt;/&lt;/span>&lt;span class="nt">script&lt;/span>&lt;span class="p">&amp;gt;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/bf8435b4/blog-run-time.js.png.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/bf8435b4/blog-run-time.js.png" alt="blog-run-time.js" />
&lt;/picture>&lt;/p>
&lt;hr>
&lt;h2 id="--持续更新--">~ ~ 持续更新 ~ ~&lt;/h2></description></item><item><title>Hexo NexT 魔改 valine</title><link>https://zhixuan666.github.io/posts/b17cfc64/</link><pubDate>Sun, 27 Sep 2020 10:05:32 +0000</pubDate><guid>https://zhixuan666.github.io/posts/b17cfc64/</guid><description>&lt;img src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/features/1.jpg" alt="Featured image of post Hexo NexT 魔改 valine" />&lt;h2 id="警告">警告&lt;/h2>
&lt;blockquote>
&lt;p>valine 现在会泄漏个人信息&lt;a class="link" href="https://github.com/xCss/Valine/issues/336" target="_blank" rel="noopener"
>#366&lt;/a>&lt;/p>
&lt;/blockquote>
&lt;h2 id="简介">简介&lt;/h2>
&lt;p>Valine 诞生于2017年8月7日，是一款基于 &lt;code>LeanCloud&lt;/code> 的快速、简洁且高效的无后端评论系统。&lt;/p>
&lt;p>理论上支持但不限于静态博客，目前已有 &lt;code>Hexo&lt;/code> 、 &lt;code>Jekyll&lt;/code> 、 &lt;code>Typecho&lt;/code> 、 &lt;code>Hugo&lt;/code> 、 &lt;code>Ghost&lt;/code> 等博客程序在使用Valine。&lt;/p>
&lt;blockquote>
&lt;p>本篇是 &lt;code>Hexo&lt;/code> 的 &lt;code>Next8.0&lt;/code> 主题的valine美化&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="启用-valine">启用 &lt;code>valine&lt;/code>&lt;/h2>
&lt;p>访问 &lt;code>leancloud&lt;/code>，传送门
&lt;a class="link" href="https://leancloud.app/" target="_blank" rel="noopener"
>国际版&lt;/a>
&lt;a class="link" href="https://www.leancloud.cn/" target="_blank" rel="noopener"
>中国版&lt;/a> 需要 &lt;code>实名&lt;/code> 和 &lt;code>备案&lt;/code>&lt;/p>
&lt;p>注册并登录，选择创建应用，名称随便写，创建。&lt;/p>
&lt;p>&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/b17cfc64/create.png.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/b17cfc64/create.png" alt="create" />
&lt;/picture>&lt;/p>
&lt;p>打开设置 -&amp;gt; 安全中心 -&amp;gt; Web安全域名 -&amp;gt; 添加博客域名&lt;/p>
&lt;p>&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/b17cfc64/domain.png.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/b17cfc64/domain.png" alt="domain" />
&lt;/picture>&lt;/p>
&lt;p>到应用Keys，复制 &lt;code>AppID&lt;/code> 和 &lt;code>AppKey&lt;/code>。&lt;/p>
&lt;p>&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/b17cfc64/key.png.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/b17cfc64/key.png" alt="create" />
&lt;/picture>&lt;/p>
&lt;p>打开 &lt;code>主题配置文件&lt;/code> ，找到valine。&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="nt">valine&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">enable&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">appId&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#刚刚复制的appID&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">appKey&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c">#刚刚复制的appKey&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">placeholder&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">在这里输入评论&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 评论框 ```占位提示符```` 。&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">avatar&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">wavatar &lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Gravatar 头像展示方式。&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">meta&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="l">nick, mail, link]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 评论者相关属性。&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">pageSize&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="m">10&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 评论列表分页，每页条数。&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">lang&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">zh-cn&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 语言 zh-CN, zh-TW, en, ja&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">visitor&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 记录访问次数&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">comment_count&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 是否统计评论个数&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">recordIP&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 是否记录ip&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">serverURLs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># api地址&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">enableQQ&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 是否启用QQ登入&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">requiredFields&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="l">nick, mail]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 设置必填项 [nick,mail,link]&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>此时以可以用valine&lt;/p>
&lt;blockquote>
&lt;h3 id="如果只是出现valine不能评论的话">如果只是出现valine不能评论的话&lt;/h3>
&lt;p>按 &lt;code>F12&lt;/code> 如果在 &lt;code>bash&lt;/code> 出现 ERR:: TIME_OUT&lt;/p>
&lt;p>&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/b17cfc64/console.png.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/b17cfc64/console.png" alt="console" />
&lt;/picture>
如果是国际版，修改valine&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="nt">valine&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="nt">enable&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">···&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">serverURLs&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">https://APPID的前八位.api.lncldglobal.com/&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">···&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;/blockquote>
&lt;hr>
&lt;h2 id="美化-valine">美化 &lt;code>valine&lt;/code>&lt;/h2>
&lt;h3 id="在-veditor-输入界面增加背景图">在 veditor 输入界面增加背景图&lt;/h3>
&lt;p>&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/b17cfc64/comment.png.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/b17cfc64/comment.png" alt="comment" />
&lt;/picture>&lt;/p>
&lt;p>使用方法如下，将 CSS 加到 &lt;code>themes\next\layout\_third-party\comments\valine.njk&lt;/code>。&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="p">#&lt;/span>&lt;span class="nn">veditor&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">background-image&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">url&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="sx">https://cdn.jsdelivr.net/gh/drew233/cdn/20200409110727.webp&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">background-size&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">contain&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">background-repeat&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">no-repeat&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">background-position&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">right&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">background-color&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">rgba&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">255&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">255&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">255&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">resize&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">vertical&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>上述的 url 内的图片可以换成自己的。如果评论者在输入框中输入较长的内容，那么背景图会遮住部分文字，这样引起整体观感欠佳。设置当鼠标聚焦于输入框时，背景图消失，输入框失去焦点时，背景图重新显示，这个逻辑可以直接交给 CSS 完成。&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="p">#&lt;/span>&lt;span class="nn">veditor&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">focus&lt;/span>&lt;span class="p">{&lt;/span>
&lt;span class="n">background-position-y&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">200&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">transition&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">all&lt;/span> &lt;span class="mf">0.2&lt;/span>&lt;span class="kt">s&lt;/span> &lt;span class="kc">ease&lt;/span>&lt;span class="o">-&lt;/span>&lt;span class="n">in-out&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="kt">s&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="将-nickemaillink-输入框分开">将 nick、email、link 输入框分开&lt;/h3>
&lt;p>这个就根据自己改了。&lt;/p>
&lt;p>&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/b17cfc64/box.png.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/b17cfc64/box.png" alt="输入框分开" />
&lt;/picture>&lt;/p>
&lt;p>使用前请确保 &lt;code>Valine&lt;/code> 评论的 &lt;code>div&lt;/code> 的 &lt;code>id&lt;/code> 是 &lt;code>vcomments&lt;/code>，即 &lt;code>&amp;lt;div id=&amp;quot;vcomments&amp;quot;&amp;gt;&amp;lt;/div&amp;gt;&lt;/code> 如果是 &lt;code>class&lt;/code> 为 &lt;code>vcomments&lt;/code> ，那么将以下的 &lt;code>#&lt;/code> 换成 &lt;code>.&lt;/code> 即可。&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="p">#&lt;/span>&lt;span class="nn">vcomments&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nc">vheader&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nc">vnick&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">31&lt;/span>&lt;span class="kt">%&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">border&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="kc">solid&lt;/span> &lt;span class="mh">#dedede&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">padding-left&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">padding-right&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">border-radius&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="kt">px&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">#&lt;/span>&lt;span class="nn">vcomments&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nc">vheader&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nc">vmail&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">31&lt;/span>&lt;span class="kt">%&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">border&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="kc">solid&lt;/span> &lt;span class="mh">#dedede&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">margin-left&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">34&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">padding-left&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">padding-right&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">border-radius&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="kt">px&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">#&lt;/span>&lt;span class="nn">vcomments&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nc">vheader&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nc">vlink&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">width&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">31&lt;/span>&lt;span class="kt">%&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">border&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">2&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="kc">solid&lt;/span> &lt;span class="mh">#dedede&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">margin-left&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">34&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">padding-left&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">padding-right&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">border-radius&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">5&lt;/span>&lt;span class="kt">px&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="头像旋转">头像旋转&lt;/h3>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="nt">img&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">vimg&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">transition&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">all&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="kt">s&lt;/span> &lt;span class="c">/* 旋转时间为 1s */&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="nt">img&lt;/span>&lt;span class="p">.&lt;/span>&lt;span class="nc">vimg&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">hover&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">transform&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">rotate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">360&lt;/span>&lt;span class="kt">deg&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kp">-webkit-&lt;/span>&lt;span class="k">transform&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">rotate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">360&lt;/span>&lt;span class="kt">deg&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kp">-moz-&lt;/span>&lt;span class="k">transform&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">rotate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">360&lt;/span>&lt;span class="kt">deg&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kp">-o-&lt;/span>&lt;span class="k">transform&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">rotate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">360&lt;/span>&lt;span class="kt">deg&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="kp">-ms-&lt;/span>&lt;span class="k">transform&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="nb">rotate&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">360&lt;/span>&lt;span class="kt">deg&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="卡片式评论">卡片式评论&lt;/h3>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-css" data-lang="css">&lt;span class="p">#&lt;/span>&lt;span class="nn">vcomments&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nc">vcards&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nc">vcard&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">padding&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">15&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">20&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">border-radius&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">10&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">margin-bottom&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">15&lt;/span>&lt;span class="kt">px&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">box-shadow&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">4&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">1&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="nb">rgba&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">.12&lt;/span>&lt;span class="p">);&lt;/span>
&lt;span class="k">transition&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">all&lt;/span> &lt;span class="mf">.3&lt;/span>&lt;span class="kt">s&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">#&lt;/span>&lt;span class="nn">vcomments&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nc">vcards&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nc">vcard&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="nd">hover&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">box-shadow&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">0&lt;/span> &lt;span class="mi">8&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="mi">3&lt;/span>&lt;span class="kt">px&lt;/span> &lt;span class="nb">rgba&lt;/span>&lt;span class="p">(&lt;/span>&lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mi">0&lt;/span>&lt;span class="p">,&lt;/span> &lt;span class="mf">.12&lt;/span>&lt;span class="p">)&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;span class="p">#&lt;/span>&lt;span class="nn">vcomments&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nc">vcards&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nc">vcard&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nc">vh&lt;/span> &lt;span class="p">.&lt;/span>&lt;span class="nc">vcard&lt;/span> &lt;span class="p">{&lt;/span>
&lt;span class="k">border&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">none&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="k">box-shadow&lt;/span>&lt;span class="p">:&lt;/span> &lt;span class="kc">none&lt;/span>&lt;span class="p">;&lt;/span>
&lt;span class="p">}&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="增加博主小伙伴标识以及浏览器图标">增加博主、小伙伴标识以及浏览器图标&lt;/h3>
&lt;p>这个原生的 &lt;code>Valine&lt;/code> 就不支持了，我们需要使用魔改的 Valine 文件。&lt;/p>
&lt;p>修改 &lt;code>主题配置文件&lt;/code> 找到 &lt;code>vendors&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="nt">vendors&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">···&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># Valine&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">valine&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">//cdn.jsdelivr.net/gh/HCLonely/Valine@latest/dist/Valine.min.js&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">···&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>与原生的相比，多了以下功能：&lt;/p>
&lt;ul>
&lt;li>添加博主，小伙伴，访客标签&lt;/li>
&lt;li>添加浏览器和操作系统图标，需引入 fontawesome v5.0+ 的 CSS 样式&lt;/li>
&lt;li>邮箱检测更严格&lt;/li>
&lt;li>增加 QQ 邮箱识别（原版只能通过昵称栏输入 QQ 号识别）&lt;/li>
&lt;li>meta placeholder 可自定义&lt;/li>
&lt;/ul>
&lt;p>修改 &lt;code>主题配置文件&lt;/code> 找到 &lt;code>valine&lt;/code>&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="nt">valine&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">enable&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">true&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">···&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">tagMeta&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;博主&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;小伙伴&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;访客&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 标签要显示的文字&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">master&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;fe01ce2a7fbac8fafaed7c982a04e229&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># md5 加密后的博主邮箱 逗号隔开&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">friends&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="p">[&lt;/span>&lt;span class="s2">&amp;#34;fe01ce2a7fbac8fafaed7c982a04e229&amp;#34;&lt;/span>&lt;span class="p">]&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># md5 加密后的小伙伴邮箱 逗号隔开&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">metaPlaceholder&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>{&lt;span class="s2">&amp;#34;nick&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;昵称&amp;#34;&lt;/span>&lt;span class="p">,&lt;/span>&lt;span class="s2">&amp;#34;mail&amp;#34;&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="s2">&amp;#34;邮箱(必填)&amp;#34;&lt;/span>}&lt;span class="w"> &lt;/span>&lt;span class="c"># meta placeholder 内容&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">verify&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="kc">false&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="c"># 评论时是否需要验证，需 jQuery 支持&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div></description></item><item><title>linux搭建Minecraft服务器</title><link>https://zhixuan666.github.io/posts/2b678319/</link><pubDate>Mon, 21 Sep 2020 21:21:52 +0000</pubDate><guid>https://zhixuan666.github.io/posts/2b678319/</guid><description>&lt;img src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/features/minecraft.png" alt="Featured image of post linux搭建Minecraft服务器" />&lt;h2 id="前言">前言&lt;/h2>
&lt;p>Minecraft即我的世界，手头有闲置服务器的玩家算是有福了，可以自己搭建服务器，当然这片教程也适用于家庭，只不过需求可能有丶高。&lt;/p>
&lt;blockquote>
&lt;p>本篇教程仅说明如何在Linux下搭建，全程使用root用户，使用的发行版是Debian9.5，同时适用于Ubuntu和其他的Debian系Linux使用，RHEL仅部分命令不同，其他也是相同的。&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="搭建minecraft服务器">搭建Minecraft服务器&lt;/h2>
&lt;h3 id="安装-java-和-screen">安装 &lt;code>Java&lt;/code> 和 &lt;code>Screen&lt;/code>&lt;/h3>
&lt;p>Ubuntu和其他的Debian系Linux的命令&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ sudo apt-get update
$ sudo apt-get install java screen -j
&lt;/code>&lt;/pre>&lt;/div>&lt;p>RHEL的命令&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ sudo yum update
$ sudo yum install java screen -y
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="创建一个目录存放服务端的文件">创建一个目录存放服务端的文件&lt;/h3>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ &lt;span class="nb">cd&lt;/span> / &lt;span class="c1">#进入根目录&lt;/span>
$ sudo mkdir mcserver &lt;span class="c1">#创建mcserver文件夹&lt;/span>
$ &lt;span class="nb">cd&lt;/span> /mcserver &lt;span class="c1">#进入mcserver文件夹&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;p>搭建 &lt;code>forge&lt;/code> 服务器请到 &lt;a class="link" href="#%e6%90%ad%e5%bb%baforge%e6%9c%8d%e5%8a%a1%e5%99%a8" >搭建forge服务器&lt;/a>&lt;/p>
&lt;hr>
&lt;h3 id="搭建非forge服务器">搭建非forge服务器&lt;/h3>
&lt;p>去 &lt;a class="link" href="https://mcversions.net" target="_blank" rel="noopener"
>MCversions&lt;/a> 下载&lt;/p>
&lt;p>&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/2b678319/mcversions.jpg.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/2b678319/mcversions.jpg" alt="MCversions" />
&lt;/picture>&lt;/p>
&lt;p>右键你想要的版本的 &lt;code>Server Jar&lt;/code> ，复制链接，到终端。&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">wget 粘贴刚刚复制到链接
&lt;/code>&lt;/pre>&lt;/div>&lt;p>下载好了之后，启动服务器：&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">java -Xms512M -Xmx1024M -jar server.jar -nogui
&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>第一次需要修改 &lt;code>EULA&lt;/code> 文件&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">vim eula.txt
&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>将 eula=false 改成 eula=true ，再次输入指令。&lt;/p>
&lt;/blockquote>
&lt;p>搭建成功&lt;/p>
&lt;hr>
&lt;p>关于&lt;a class="link" href="#%e9%85%8d%e7%bd%ae%e6%96%87%e4%bb%b6-server-properties" >配置文件&lt;/a>&lt;/p>
&lt;hr>
&lt;h3 id="搭建forge服务器">搭建forge服务器&lt;/h3>
&lt;p>去 &lt;a class="link" href="https://files.minecraftforge.net" target="_blank" rel="noopener"
>MinecraftForge&lt;/a> 下载&lt;/p>
&lt;p>&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/2b678319/minecraftforge.jpg.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/2b678319/minecraftforge.jpg" alt="MinecraftForge" />
&lt;/picture>&lt;/p>
&lt;p>左边是版本，中间是最新版，右边是稳定版，我们这边下载稳定版。
右键复制链接，到终端。&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">wget 粘贴刚刚复制到链接
java -jar forge-*****-install.jar -nogui --installServer
&lt;/code>&lt;/pre>&lt;/div>&lt;p>等待安装， &lt;code>ls&lt;/code> 看到多几个文件我们输入：&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">java -Xms512M -Xmx1024M -jar forge-*****-universal.jar -nogui
&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>第一次需要修改 &lt;code>EULA&lt;/code> 文件&lt;/p>
&lt;/blockquote>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">vim eula.txt
&lt;/code>&lt;/pre>&lt;/div>&lt;blockquote>
&lt;p>将eula=false改成eula=true，再次输入指令。&lt;/p>
&lt;/blockquote>
&lt;p>搭建成功&lt;/p>
&lt;blockquote>
&lt;p>如何添加MOD&lt;/p>
&lt;p>将下载好的mod放在，mods文件夹中，重启服务器。&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="配置文件-serverproperties">配置文件 &lt;code>server.properties&lt;/code>&lt;/h2>
&lt;p>我觉得有用的conf&lt;/p>
&lt;pre>&lt;code class="language-conf" data-lang="conf">enable-command-block=true #启用命令方块
query.port=25565 #服务器的端口
pvp=false #关闭PVP
online-mode=false #启用盗版
&lt;/code>&lt;/pre></description></item><item><title>Github+Hexo+Next搭建博客</title><link>https://zhixuan666.github.io/posts/cfdb546a/</link><pubDate>Thu, 17 Sep 2020 22:16:10 +0000</pubDate><guid>https://zhixuan666.github.io/posts/cfdb546a/</guid><description>&lt;img src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/features/2.jpg" alt="Featured image of post Github+Hexo+Next搭建博客" />&lt;h2 id="什么是hexo">什么是Hexo？&lt;/h2>
&lt;p>&lt;a class="link" href="https://hexo.io/zh-cn/" target="_blank" rel="noopener"
>Hexo&lt;/a> 是高效的静态站点生成框架，它基于 &lt;a class="link" href="https://nodejs.org/" target="_blank" rel="noopener"
>Node.js&lt;/a> 。 通过 Hexo 你可以轻松地使用 Markdown 编写文章，除了 Markdown 本身的语法之外，还可以使用 Hexo 提供的 &lt;a class="link" href="https://hexo.io/zh-cn/docs/tag-plugins.html" target="_blank" rel="noopener"
>标签插件&lt;/a> 来快速的插入特定形式的内容。&lt;/p>
&lt;hr>
&lt;h2 id="安装hexo">安装Hexo&lt;/h2>
&lt;h3 id="安装前提">安装前提&lt;/h3>
&lt;p>安装 Hexo 非常简单。但在安装之前，您必须检查电脑中是否已安装下列应用程序:&lt;/p>
&lt;p>{% note default %}&lt;/p>
&lt;ul>
&lt;li>&lt;strong>Node.js&lt;/strong>&lt;/li>
&lt;li>&lt;strong>Git&lt;/strong>&lt;/li>
&lt;/ul>
&lt;p>{% endnote %}&lt;/p>
&lt;h3 id="安装-git">安装 Git&lt;/h3>
&lt;blockquote>
&lt;p>&lt;strong>Windows&lt;/strong> 用户 直接在 &lt;a class="link" href="https://git-scm.com/download/win" target="_blank" rel="noopener"
>官网&lt;/a> 下 &lt;code>Git&lt;/code> 很慢, 可以通过 &lt;a class="link" href="https://github.com/waylau/git-for-win" target="_blank" rel="noopener"
>这个网页&lt;/a> 下载&lt;/p>
&lt;/blockquote>
&lt;p>安装完 &lt;code>Git&lt;/code> 后，右键打开 &lt;code>Git Bash Here&lt;/code> ，输入 &lt;code>git --version&lt;/code> ,出现版本信息就说明安装成功了。&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">zhixuan@DESKTOP-2MMI2OK MINGW64 /d/desktop
$ git --version
git version 2.28.0.windows.1
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="安装nodejs">安装Node.js&lt;/h3>
&lt;p>接下来安装 &lt;code>Node.js&lt;/code> ，在 &lt;a class="link" href="http://nodejs.cn/download/" target="_blank" rel="noopener"
>官网&lt;/a> 下载即可。&lt;/p>
&lt;p>在命令行输入 &lt;code>node -v&lt;/code> 和 &lt;code>npm -v&lt;/code> ，出现以下信息说明成功了。&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-cmd" data-lang="cmd">Microsoft Windows [版本 10.0.18363.1082]
&lt;span class="p">(&lt;/span>c&lt;span class="p">)&lt;/span> 2019 Microsoft Corporation。保留所有权利。
C&lt;span class="p">:&lt;/span>&lt;span class="nl">\Users\zhixuan&lt;/span>&lt;span class="c1">&amp;gt;node -v&lt;/span>
v12.18.3
C&lt;span class="p">:&lt;/span>&lt;span class="nl">\Users\zhixuan&lt;/span>&lt;span class="c1">&amp;gt;npm -v&lt;/span>
6.14.6
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="安装hexo-1">安装Hexo&lt;/h3>
&lt;p>如果你的电脑中已经安装上述必备程序，那么恭喜你！只需要使用 &lt;code>npm&lt;/code> 即可完成 &lt;code>Hexo&lt;/code> 的安装。&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ npm install -g hexo-cli
&lt;/code>&lt;/pre>&lt;/div>&lt;p>安装 Hexo 完成后，我们首先需要为我们的项目创建一个 &lt;code>指定文件夹&lt;/code> (例如我在 D 盘目录下创建了一个文件夹 blog &lt;code>D:\blog&lt;/code> )，在指定文件夹中执行下列命令， Hexo 将会在指定文件夹中新建所需要的文件。&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ hexo init
&lt;/code>&lt;/pre>&lt;/div>&lt;p>等待安装，安装后，&lt;code>blog&lt;/code> 的目录如下。&lt;/p>
&lt;pre>&lt;code>.
├── _config.yml
├── package.json
├── scaffolds
├── source
| ├── _drafts
| └── _posts
└──
&lt;/code>&lt;/pre>&lt;p>我们继续执行命令&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ hexo g
$ hexo s --debug
&lt;/code>&lt;/pre>&lt;/div>&lt;p>{% note success %}&lt;/p>
&lt;p>Hexo 将 source 文件夹中除 posts 文件夹之外，开头命名为 (下划线)的文件 &lt;code>/&lt;/code> 文件夹和隐藏的文件将会被忽略。Markdown 和 HTML 文件会被解析并放到 public 文件夹，而其他文件夹会被拷贝过去。
这个时候，我们在浏览器中访问 &lt;a class="link" href="http://localhost:4000/" target="_blank" rel="noopener"
>http://localhost:4000/&lt;/a> ，就可以看到基于 Hexo 的默认主题的原型：&lt;/p>
&lt;p>{% endnote %}&lt;/p>
&lt;p>&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/cfdb546a/hexo-next-one-1.png.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/cfdb546a/hexo-next-one-1.png" alt="预览1" />
&lt;/picture>&lt;/p>
&lt;hr>
&lt;h2 id="安装next主题">安装Next主题&lt;/h2>
&lt;h3 id="下载next主题">下载Next主题&lt;/h3>
&lt;p>依旧是在当前目录下，使用 &lt;code>Git&lt;/code> 来 &lt;code>checkout&lt;/code> 代码：&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ git clone https://github.com/iissnan/hexo-theme-next themes/next
&lt;/code>&lt;/pre>&lt;/div>&lt;p>{% note danger %}&lt;/p>
&lt;p>提示：原作者 &lt;code>iissnan&lt;/code> 已经停止更新 &lt;code>hexo-theme-next&lt;/code> ；所以，如果你想使用 &lt;code>5.x&lt;/code> 之前的版本可以使用上面的链接下载 &lt;code>NexT&lt;/code> 主题；如果你想体验 &lt;code>6.x&lt;/code> 之后的新版本，请使用下面的链接&lt;/p>
&lt;p>{% endnote %}&lt;/p>
&lt;p>7.8&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ git clone https://github.com/theme-next/hexo-theme-next themes/next
&lt;/code>&lt;/pre>&lt;/div>&lt;p>8.0&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ git clone https://github.com/next-theme/hexo-theme-next themes/next
&lt;/code>&lt;/pre>&lt;/div>&lt;p>等待下载完成。&lt;/p>
&lt;p>{% note warning %}&lt;/p>
&lt;p>在 &lt;code>Hexo&lt;/code> 中有两份重要的配置文件，两份都是 &lt;code>_config.yml&lt;/code> 。其中一份在站点的根目录下，主要包含 &lt;code>Hexo&lt;/code> 本身的配置; 另外一份位于主题目录下，这份主要用于配置主题相关的配置
前置叫 &lt;code>站点配置文件&lt;/code> ,后者叫 &lt;code>主题配置文件&lt;/code>。&lt;/p>
&lt;p>{% endnote %}&lt;/p>
&lt;h3 id="启用next主题">启用Next主题&lt;/h3>
&lt;p>打开 &lt;code>站点配置文件&lt;/code> ，&lt;code>Ctrl+F&lt;/code> 找到 &lt;code>theme&lt;/code> 字段，并将其更改为 &lt;code>next&lt;/code>。&lt;/p>
&lt;p>到此， &lt;code>Next&lt;/code> 主题安装完毕。&lt;/p>
&lt;h3 id="验证主题">验证主题&lt;/h3>
&lt;p>首先启动 &lt;code>Hexo&lt;/code> 本地站点。&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ hexo g
$ hexo s
&lt;/code>&lt;/pre>&lt;/div>&lt;p>当命令行输出中提示。&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">INFO Hexo is running at http://0.0.0.0:4000/. Press Ctrl+C to stop.
&lt;/code>&lt;/pre>&lt;/div>&lt;p>此时即可使用游览器访问 &lt;a class="link" href="http://localhost:4000/" target="_blank" rel="noopener"
>http://localhost:4000/&lt;/a> , 检查站点是否正确运行。&lt;/p>
&lt;p>{% note success %}&lt;/p>
&lt;p>当你看到站点的外观与下图类似就说明你成功安装 &lt;code>Next&lt;/code> 主题。这是 &lt;code>Next&lt;/code> 默认的 &lt;code>Scheme&lt;/code>。&lt;/p>
&lt;p>{% endnote %}&lt;/p>
&lt;p>&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/cfdb546a/hexo-next-one-2.png.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/cfdb546a/hexo-next-one-2.png" alt="预览" />
&lt;/picture>&lt;/p>
&lt;p>现在，我们已经成功安装 &lt;code>Next&lt;/code> 主题。&lt;/p>
&lt;blockquote>
&lt;p>关于更多基本操作和基础知识，请查阅 &lt;a class="link" href="https://hexo.io/zh-cn/" target="_blank" rel="noopener"
>Hexo&lt;/a> 与 &lt;a class="link" href="http://theme-next.iissnan.com/" target="_blank" rel="noopener"
>NexT&lt;/a> 官方文档.&lt;/p>
&lt;/blockquote>
&lt;hr>
&lt;h2 id="github设置">Github设置&lt;/h2>
&lt;p>我们需要在 &lt;code>Github&lt;/code> 上创建一个仓库来托管我们的站点。&lt;/p>
&lt;h3 id="创建仓库">创建仓库&lt;/h3>
&lt;p>打开 &lt;a class="link" href="https://github.com" target="_blank" rel="noopener"
>Github&lt;/a>，创建 &lt;code>New repository&lt;/code> ，这里要注意仓库名一定要 &lt;code>your Account Name/github.io&lt;/code> ，这样才能正常显示。&lt;/p>
&lt;p>&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/cfdb546a/new_repository.png.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/cfdb546a/new_repository.png" alt="创建仓库" />
&lt;/picture>&lt;/p>
&lt;p>然后在 &lt;code>Settings&lt;/code> 中，向下拉有个 &lt;code>Github Pages&lt;/code> ，点击 &lt;code>Choose a theme&lt;/code> 选择一个主题，我选选的是 &lt;code>Cayman&lt;/code>，最后图中这个 &lt;code>https://你的用户名.github.io&lt;/code> 就是创建网站的网址了。&lt;/p>
&lt;p>&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/cfdb546a/github-pages.png.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/cfdb546a/github-pages.png" alt="github-pages" />
&lt;/picture>&lt;/p>
&lt;h3 id="连接github与本地">连接Github与本地&lt;/h3>
&lt;p>打开 &lt;code>Git Bash&lt;/code> ，设置 &lt;code>user.name&lt;/code> 和 &lt;code>user.email&lt;/code> 配置信息：&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="p">&amp;amp;&lt;/span> git config --global user.name &lt;span class="s2">&amp;#34;你的GitHub用户名&amp;#34;&lt;/span>
&lt;span class="p">&amp;amp;&lt;/span> git config --global user.email &lt;span class="s2">&amp;#34;你的GitHub注册邮箱&amp;#34;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>让后生成SSH KEY：&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="p">&amp;amp;&lt;/span> ssh-keygen -t rsa -C &lt;span class="s2">&amp;#34;你的GitHub注册邮箱&amp;#34;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>让后三个回车即可。找到 &lt;code>/user/.ssh&lt;/code> 文件夹中的 &lt;code>id_rsa.pub&lt;/code> 密钥，将内容全部复制。
打开 &lt;code>Github_Settings_Keys&lt;/code> 页面，新建 &lt;code>new_ssh Key&lt;/code>
Title 为标题，任意即可，将刚才复制的 &lt;code>id_rsa.pub&lt;/code> 内容粘贴进去，最后点击 &lt;code>Add SSH KEY&lt;/code>。
在 &lt;code>Git Bash&lt;/code> 中检测 &lt;code>Github&lt;/code> 公钥设置是否成功，输入：&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="p">&amp;amp;&lt;/span> ssh git@github.com
&lt;/code>&lt;/pre>&lt;/div>&lt;p>若看到以下结果，则说明成功了。
&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/cfdb546a/github-ssh.png.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/cfdb546a/github-ssh.png" alt="github_ssh" />
&lt;/picture>&lt;/p>
&lt;hr>
&lt;h2 id="博客初始配置">博客初始配置&lt;/h2>
&lt;h3 id="配置deployment">配置Deployment&lt;/h3>
&lt;p>打开 &lt;code>站点配置文件&lt;/code> ，找到 &lt;code>Deployment&lt;/code> ，然后按照如下修改：&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="nt">deploy&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">type&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">git&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">repo&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">你的仓库地址&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="nt">branch&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">master&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>完成以上配置后保存，让后在 &lt;code>站点根目录&lt;/code> 下打开命令行，执行以下指令安装所需插件：&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="p">&amp;amp;&lt;/span> npm install hexo-deployer-git --save
&lt;/code>&lt;/pre>&lt;/div>&lt;p>继续输入 &lt;code>hexo d&lt;/code> ，会冒出一个 &lt;code>Github&lt;/code> 窗口让你登录。&lt;/p>
&lt;p>&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/cfdb546a/login.png.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/cfdb546a/login.png" alt="github_login" />
&lt;/picture>&lt;/p>
&lt;p>完成之后，你可以在 &lt;code>用户名.github.io&lt;/code> 就能看到你的博客了。&lt;/p>
&lt;h3 id="发布新文章">发布新文章&lt;/h3>
&lt;h4 id="命令行">命令行&lt;/h4>
&lt;p>在 &lt;code>站点根目录&lt;/code> 下打开命令行，输入：&lt;/p>
&lt;pre>&lt;code>hexo n &amp;quot;article title&amp;quot;
INFO Created: D:\Blog\source\_posts\article-title.md
&lt;/code>&lt;/pre>&lt;p>反馈信息显示在你的 &lt;code>source/_posts&lt;/code> 下生成了一个 &lt;code>article-title.md&lt;/code> 文件，在这个文件中即可编写自己的博客了。&lt;/p>
&lt;h4 id="直接新建md文件">直接新建md文件&lt;/h4>
&lt;p>直接的方式就是直接在 &lt;code>source/_posts&lt;/code> 新建一个 &lt;code>Markdown&lt;/code> 文件，其实和命令形式是一个道理，就看哪个自己用起来方便些。&lt;/p>
&lt;hr>
&lt;h2 id="总结">总结&lt;/h2>
&lt;h3 id="本地调试步骤">本地调试步骤&lt;/h3>
&lt;p>三部曲:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="p">&amp;amp;&lt;/span> hexo clean
$ hexo g
$ hexo s --debug
&lt;/code>&lt;/pre>&lt;/div>&lt;p>这种带 &lt;code>debug&lt;/code> 的运行，如果出现错误，可以在命令行中看到错误提示信息。&lt;/p>
&lt;h3 id="部署步骤">部署步骤&lt;/h3>
&lt;p>三部曲:&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">&lt;span class="p">&amp;amp;&lt;/span> hexo clean
&lt;span class="p">&amp;amp;&lt;/span> hexo g
&lt;span class="p">&amp;amp;&lt;/span> hexo d
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="常用命令">常用命令&lt;/h3>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-bash" data-lang="bash">$ hexo n &lt;span class="s2">&amp;#34;postName&amp;#34;&lt;/span> &lt;span class="c1"># 新建文章&lt;/span>
$ hexo n page &lt;span class="s2">&amp;#34;pageName&amp;#34;&lt;/span> &lt;span class="c1"># 新建页面&lt;/span>
$ hexo g &lt;span class="c1"># 生成静态页面至public目录&lt;/span>
$ hexo s &lt;span class="c1"># 开启预览访问端口(默认端口4000，&amp;#39;ctrl+c&amp;#39;关闭server)&lt;/span>
$ hexo d &lt;span class="c1"># 项目部署&lt;/span>
$ hexo &lt;span class="nb">help&lt;/span> &lt;span class="c1"># 查看帮助&lt;/span>
$ hexo version &lt;span class="c1"># 查看Hexo的版本&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;h3 id="常见问题">常见问题&lt;/h3>
&lt;p>在 &lt;code>hexo&lt;/code> 的配置和设置文件中，在冒号后面没留空格会导致出问题：
错误的设置：&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="l">author:zhixuan&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="l">email:jinzhixuan666@gmail.com&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="l">language:zh-CN&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;p>正确的设置：&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-yml" data-lang="yml">&lt;span class="nt">author&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">zhixuan&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="nt">email&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">jinzhixuan666@gmail.com&lt;/span>&lt;span class="w">
&lt;/span>&lt;span class="w">&lt;/span>&lt;span class="nt">language&lt;/span>&lt;span class="p">:&lt;/span>&lt;span class="w"> &lt;/span>&lt;span class="l">zh-CN&lt;/span>&lt;span class="w">
&lt;/span>&lt;/code>&lt;/pre>&lt;/div>&lt;hr>
&lt;h2 id="感谢及参考">感谢及参考&lt;/h2>
&lt;ul>
&lt;li>🔗&lt;a class="link" href="https://yxyuxuan.github.io/2019/07/16/GitHub-Hexo-Next%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2/" target="_blank" rel="noopener"
>GitHub+Hexo+Next搭建博客&lt;/a>&lt;/li>
&lt;/ul></description></item><item><title>Windows导入远程证书</title><link>https://zhixuan666.github.io/posts/af239327/</link><pubDate>Mon, 14 Sep 2020 19:02:59 +0000</pubDate><guid>https://zhixuan666.github.io/posts/af239327/</guid><description>&lt;img src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/features/2.jpg" alt="Featured image of post Windows导入远程证书" />&lt;h2 id="前言">前言&lt;/h2>
&lt;p>通常 Windows Server 不会配有 RDP 证书，我们连接的时候会看到证书警告。&lt;/p>
&lt;hr>
&lt;h2 id="安装远程证书">安装远程证书&lt;/h2>
&lt;h3 id="安装p12或pfx格式的证书">安装p12或pfx格式的证书&lt;/h3>
&lt;p>连接到 Windows Server，双击证书，存储位置选择「本地计算机」 &amp;gt; 文件名默认 &amp;gt; 输入密码 &amp;amp; 其他设置默认 &amp;gt; 选择「将所有的证书都放入下列存储 - 个人」&amp;gt; 完成。&lt;/p>
&lt;p>&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/af239327/import.jpg.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/af239327/import.jpg" alt="安装证书" />
&lt;/picture>&lt;/p>
&lt;h3 id="获取证书-hash">获取证书 Hash&lt;/h3>
&lt;p>获取证书Hash，&lt;code>Win + R&lt;/code> &amp;gt; &lt;code>certlm.msc&lt;/code> , 在 &lt;code>证书 - 本地计算机&lt;/code> &amp;gt; &lt;code>个人&lt;/code> &amp;gt; &lt;code>证书&lt;/code> ，双击刚安装的证书 &amp;gt; 详细信息 &amp;gt; 指纹。&lt;/p>
&lt;p>&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/af239327/certlm.jpg.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/af239327/certlm.jpg" alt="certlm" />
&lt;/picture>&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;p>&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/af239327/3.png.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/af239327/3.png" alt="Hash" />
&lt;/picture>&lt;/p>
&lt;!-- raw HTML omitted -->
&lt;h3 id="配置-rdp-服务">配置 RDP 服务&lt;/h3>
&lt;p>以&lt;strong>管理员模式&lt;/strong>打开 Windows Powershell，执行以下指令：&lt;/p>
&lt;div class="highlight">&lt;pre class="chroma">&lt;code class="language-powershell" data-lang="powershell">&lt;span class="n">wmic&lt;/span> &lt;span class="p">/&lt;/span>&lt;span class="n">namespace&lt;/span>&lt;span class="err">:&lt;/span>&lt;span class="p">\\&lt;/span>&lt;span class="n">root&lt;/span>&lt;span class="p">\&lt;/span>&lt;span class="n">cimv2&lt;/span>&lt;span class="p">\&lt;/span>&lt;span class="n">TerminalServices&lt;/span> &lt;span class="n">PATH&lt;/span> &lt;span class="n">Win32_TSGeneralSetting&lt;/span> &lt;span class="nb">Set &lt;/span>&lt;span class="n">SSLCertificateSHA1Hash&lt;/span>&lt;span class="p">=&lt;/span>&lt;span class="s2">&amp;#34;&amp;lt;上面获取的证书指纹&amp;gt;&amp;#34;&lt;/span>
&lt;/code>&lt;/pre>&lt;/div>&lt;p>&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/af239327/powershell.jpg.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/af239327/powershell.jpg" alt="配置RDP服务" />
&lt;/picture>&lt;/p>
&lt;p>提示「属性更新成功」即可。&lt;/p>
&lt;hr>
&lt;h2 id="测试连接">测试连接&lt;/h2>
&lt;p>断开远程桌面连接，重新连接，此时应该已经没有证书未受信任的提示了。&lt;/p>
&lt;p>&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/af239327/test_remote.jpg.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/af239327/test_remote.jpg" alt="Test_remote" />
&lt;/picture>&lt;/p>
&lt;hr>
&lt;h2 id="移除服务器证书">移除服务器证书&lt;/h2>
&lt;p>如果要移除服务器上安装的证书，&lt;code>Win + R&lt;/code> &amp;gt; &lt;code>certlm.msc&lt;/code> , 在 &lt;code>证书 - 本地计算机&lt;/code> &amp;gt; &lt;code>个人&lt;/code> &amp;gt; 证书， 下删除安装的证书即可。&lt;/p>
&lt;p>&lt;picture>
&lt;source type="image/webp" srcset="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/af239327/unimport.jpg.webp">
&lt;img loading="lazy" src="https://cdn.jsdelivr.net/gh/zhixuan666/gh-blog@master/images/af239327/unimport.jpg" alt="移除证书" />
&lt;/picture>&lt;/p>
&lt;hr>
&lt;h2 id="感谢及参考">感谢及参考&lt;/h2>
&lt;ul>
&lt;li>🔗&lt;a class="link" href="https://blog.berd.moe/archives/remote-desktop-setup-ssl-certificate/" target="_blank" rel="noopener"
>简单的给远程桌面连接 (Remote Desktop) 配置自定义 SSL 证书&lt;/a>&lt;/li>
&lt;/ul></description></item></channel></rss>